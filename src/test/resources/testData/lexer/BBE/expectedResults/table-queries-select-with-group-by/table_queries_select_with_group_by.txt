import ('import')
WHITE_SPACE (' ')
identifier ('ballerina')
/ ('/')
identifier ('io')
; (';')
WHITE_SPACE ('\n\n')
LINE_COMMENT ('// This `record` type represents an order.')
WHITE_SPACE ('\n')
type ('type')
WHITE_SPACE (' ')
identifier ('Order')
WHITE_SPACE (' ')
record ('record')
WHITE_SPACE (' ')
{ ('{')
WHITE_SPACE ('\n    ')
int ('int')
WHITE_SPACE (' ')
identifier ('personId')
; (';')
WHITE_SPACE ('\n    ')
int ('int')
WHITE_SPACE (' ')
identifier ('orderId')
; (';')
WHITE_SPACE ('\n    ')
string ('string')
WHITE_SPACE (' ')
identifier ('items')
; (';')
WHITE_SPACE ('\n    ')
float ('float')
WHITE_SPACE (' ')
identifier ('amount')
; (';')
WHITE_SPACE ('\n')
} ('}')
; (';')
WHITE_SPACE ('\n\n')
LINE_COMMENT ('// This `record` type represents the summed-up order details.')
WHITE_SPACE ('\n')
type ('type')
WHITE_SPACE (' ')
identifier ('SummedOrder')
WHITE_SPACE (' ')
record ('record')
WHITE_SPACE (' ')
{ ('{')
WHITE_SPACE ('\n    ')
int ('int')
WHITE_SPACE (' ')
identifier ('personId')
; (';')
WHITE_SPACE ('\n    ')
float ('float')
WHITE_SPACE (' ')
identifier ('amount')
; (';')
WHITE_SPACE ('\n')
} ('}')
; (';')
WHITE_SPACE ('\n\n')
public ('public')
WHITE_SPACE (' ')
function ('function')
WHITE_SPACE (' ')
identifier ('main')
( ('(')
) (')')
WHITE_SPACE (' ')
{ ('{')
WHITE_SPACE ('\n    ')
string ('string')
WHITE_SPACE (' ')
identifier ('queryStmt')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('""')
; (';')
WHITE_SPACE ('\n\n    ')
LINE_COMMENT ('// These are a few sample values, which represent orders made by ')
WHITE_SPACE ('\n    ')
LINE_COMMENT ('// the person records listed above.')
WHITE_SPACE ('\n    ')
identifier ('Order')
WHITE_SPACE (' ')
identifier ('o1')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE ('\n    ')
{ ('{')
identifier ('personId')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('1')
, (',')
WHITE_SPACE (' ')
identifier ('orderId')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('1234')
, (',')
WHITE_SPACE (' ')
identifier ('items')
: (':')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"pen, book, eraser"')
, (',')
WHITE_SPACE (' ')
identifier ('amount')
: (':')
WHITE_SPACE (' ')
DECIMAL_FLOATING_POINT_NUMBER ('34.75')
} ('}')
; (';')
WHITE_SPACE ('\n    ')
identifier ('Order')
WHITE_SPACE (' ')
identifier ('o2')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE ('\n    ')
{ ('{')
identifier ('personId')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('1')
, (',')
WHITE_SPACE (' ')
identifier ('orderId')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('2314')
, (',')
WHITE_SPACE (' ')
identifier ('items')
: (':')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"dhal, rice, carrot"')
, (',')
WHITE_SPACE (' ')
identifier ('amount')
: (':')
WHITE_SPACE (' ')
DECIMAL_FLOATING_POINT_NUMBER ('14.75')
} ('}')
; (';')
WHITE_SPACE ('\n    ')
identifier ('Order')
WHITE_SPACE (' ')
identifier ('o3')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE ('\n    ')
{ ('{')
identifier ('personId')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('2')
, (',')
WHITE_SPACE (' ')
identifier ('orderId')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('5643')
, (',')
WHITE_SPACE (' ')
identifier ('items')
: (':')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"Macbook Pro"')
, (',')
WHITE_SPACE (' ')
identifier ('amount')
: (':')
WHITE_SPACE (' ')
DECIMAL_FLOATING_POINT_NUMBER ('2334.75')
} ('}')
; (';')
WHITE_SPACE ('\n    ')
identifier ('Order')
WHITE_SPACE (' ')
identifier ('o4')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE (' ')
{ ('{')
identifier ('personId')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('3')
, (',')
WHITE_SPACE (' ')
identifier ('orderId')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('8765')
, (',')
WHITE_SPACE (' ')
identifier ('items')
: (':')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"Tshirt"')
, (',')
WHITE_SPACE (' ')
identifier ('amount')
: (':')
WHITE_SPACE (' ')
DECIMAL_FLOATING_POINT_NUMBER ('20.75')
} ('}')
; (';')
WHITE_SPACE ('\n\n    ')
LINE_COMMENT ('// This is the in-memory `table`, which is constrained by the `Order` type.')
WHITE_SPACE ('\n    ')
table ('table')
< ('<')
identifier ('Order')
> ('>')
WHITE_SPACE (' ')
identifier ('orderTable')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE (' ')
table ('table')
WHITE_SPACE (' ')
{ ('{')
WHITE_SPACE ('\n        ')
{ ('{')
identifier ('personId')
, (',')
WHITE_SPACE (' ')
identifier ('orderId')
, (',')
WHITE_SPACE (' ')
identifier ('items')
, (',')
WHITE_SPACE (' ')
identifier ('amount')
} ('}')
, (',')
WHITE_SPACE ('\n        ')
[ ('[')
identifier ('o1')
, (',')
WHITE_SPACE (' ')
identifier ('o2')
, (',')
WHITE_SPACE (' ')
identifier ('o3')
, (',')
WHITE_SPACE (' ')
identifier ('o4')
] (']')
WHITE_SPACE ('\n    ')
} ('}')
; (';')
WHITE_SPACE ('\n\n    ')
LINE_COMMENT ('// This prints the content of the `Order` table.')
WHITE_SPACE ('\n    ')
identifier ('printTable')
( ('(')
identifier ('queryStmt')
, (',')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"The orderTable: "')
, (',')
WHITE_SPACE (' ')
identifier ('orderTable')
) (')')
; (';')
WHITE_SPACE ('\n\n    ')
LINE_COMMENT ('// Querying a `table` always returns a new in-memory `table`.')
WHITE_SPACE ('\n    ')
LINE_COMMENT ('// This applies the `group by` clause to a `table` and returns a new `table` with the result.')
WHITE_SPACE ('\n    ')
table ('table')
< ('<')
identifier ('SummedOrder')
> ('>')
WHITE_SPACE (' ')
identifier ('summedOrderTable')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE (' ')
from ('from')
WHITE_SPACE (' ')
identifier ('orderTable')
WHITE_SPACE ('\n                  ')
select ('select')
WHITE_SPACE (' ')
identifier ('personId')
, (',')
WHITE_SPACE (' ')
identifier ('sum')
( ('(')
identifier ('amount')
) (')')
WHITE_SPACE (' ')
group ('group')
WHITE_SPACE (' ')
by ('by')
WHITE_SPACE (' ')
identifier ('personId')
; (';')
WHITE_SPACE ('\n    ')
identifier ('queryStmt')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"\ntable<SummedOrder> summedOrderTable = "')
WHITE_SPACE (' ')
+ ('+')
WHITE_SPACE ('\n            ')
QUOTED_STRING_LITERAL ('"from orderTable select personId, sum(amount) group by personId;"')
; (';')
WHITE_SPACE ('\n    ')
identifier ('printTable')
( ('(')
identifier ('queryStmt')
, (',')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"summedOrderTable: "')
, (',')
WHITE_SPACE (' ')
identifier ('summedOrderTable')
) (')')
; (';')
WHITE_SPACE ('\n')
} ('}')
WHITE_SPACE ('\n\n')
function ('function')
WHITE_SPACE (' ')
identifier ('printTable')
( ('(')
string ('string')
WHITE_SPACE (' ')
identifier ('stmt')
, (',')
WHITE_SPACE (' ')
string ('string')
WHITE_SPACE (' ')
identifier ('tableName')
, (',')
WHITE_SPACE (' ')
table ('table')
< ('<')
anydata ('anydata')
> ('>')
WHITE_SPACE (' ')
identifier ('returnedTable')
) (')')
WHITE_SPACE (' ')
{ ('{')
WHITE_SPACE ('\n    ')
identifier ('io')
: (':')
identifier ('println')
( ('(')
identifier ('stmt')
) (')')
; (';')
WHITE_SPACE ('\n    ')
identifier ('io')
: (':')
identifier ('println')
( ('(')
identifier ('tableName')
) (')')
; (';')
WHITE_SPACE ('\n    ')
foreach ('foreach')
WHITE_SPACE (' ')
var ('var')
WHITE_SPACE (' ')
identifier ('row')
WHITE_SPACE (' ')
in ('in')
WHITE_SPACE (' ')
identifier ('returnedTable')
WHITE_SPACE (' ')
{ ('{')
WHITE_SPACE ('\n       ')
identifier ('io')
: (':')
identifier ('println')
( ('(')
identifier ('row')
) (')')
; (';')
WHITE_SPACE ('\n    ')
} ('}')
WHITE_SPACE ('\n')
} ('}')
