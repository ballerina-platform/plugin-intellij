import ('import')
WHITE_SPACE (' ')
identifier ('ballerina')
/ ('/')
identifier ('io')
; (';')
WHITE_SPACE ('\n\n')
LINE_COMMENT ('// This `record` type represents a person.')
WHITE_SPACE ('\n')
type ('type')
WHITE_SPACE (' ')
identifier ('Person')
WHITE_SPACE (' ')
record ('record')
WHITE_SPACE (' ')
{ ('{')
WHITE_SPACE ('\n    ')
int ('int')
WHITE_SPACE (' ')
identifier ('id')
; (';')
WHITE_SPACE ('\n    ')
int ('int')
WHITE_SPACE (' ')
identifier ('age')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE (' ')
- ('-')
DECIMAL_INTEGER_LITERAL ('1')
; (';')
WHITE_SPACE ('\n    ')
float ('float')
WHITE_SPACE (' ')
identifier ('salary')
; (';')
WHITE_SPACE ('\n    ')
string ('string')
WHITE_SPACE (' ')
identifier ('name')
; (';')
WHITE_SPACE ('\n    ')
boolean ('boolean')
WHITE_SPACE (' ')
identifier ('married')
; (';')
WHITE_SPACE ('\n')
} ('}')
; (';')
WHITE_SPACE ('\n\n')
LINE_COMMENT ('// This `record` type represents an order.')
WHITE_SPACE ('\n')
type ('type')
WHITE_SPACE (' ')
identifier ('Order')
WHITE_SPACE (' ')
record ('record')
WHITE_SPACE (' ')
{ ('{')
WHITE_SPACE ('\n    ')
int ('int')
WHITE_SPACE (' ')
identifier ('personId')
; (';')
WHITE_SPACE ('\n    ')
int ('int')
WHITE_SPACE (' ')
identifier ('orderId')
; (';')
WHITE_SPACE ('\n    ')
string ('string')
WHITE_SPACE (' ')
identifier ('items')
; (';')
WHITE_SPACE ('\n    ')
float ('float')
WHITE_SPACE (' ')
identifier ('amount')
; (';')
WHITE_SPACE ('\n')
} ('}')
; (';')
WHITE_SPACE ('\n\n')
LINE_COMMENT ('// This `record` type represents the order details (derived by joining the person details')
WHITE_SPACE ('\n')
LINE_COMMENT ('//and the order details).')
WHITE_SPACE ('\n')
type ('type')
WHITE_SPACE (' ')
identifier ('OrderDetails')
WHITE_SPACE (' ')
record ('record')
WHITE_SPACE (' ')
{ ('{')
WHITE_SPACE ('\n    ')
int ('int')
WHITE_SPACE (' ')
identifier ('orderId')
; (';')
WHITE_SPACE ('\n    ')
string ('string')
WHITE_SPACE (' ')
identifier ('personName')
; (';')
WHITE_SPACE ('\n    ')
string ('string')
WHITE_SPACE (' ')
identifier ('items')
; (';')
WHITE_SPACE ('\n    ')
float ('float')
WHITE_SPACE (' ')
identifier ('amount')
; (';')
WHITE_SPACE ('\n')
} ('}')
; (';')
WHITE_SPACE ('\n\n')
public ('public')
WHITE_SPACE (' ')
function ('function')
WHITE_SPACE (' ')
identifier ('main')
( ('(')
) (')')
WHITE_SPACE (' ')
{ ('{')
WHITE_SPACE ('\n    ')
string ('string')
WHITE_SPACE (' ')
identifier ('queryStmt')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('""')
; (';')
WHITE_SPACE ('\n\n    ')
LINE_COMMENT ('// These are a few sample values, which represent different `Person` records.')
WHITE_SPACE ('\n    ')
identifier ('Person')
WHITE_SPACE (' ')
identifier ('p1')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE ('\n    ')
{ ('{')
identifier ('id')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('1')
, (',')
WHITE_SPACE (' ')
identifier ('age')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('25')
, (',')
WHITE_SPACE (' ')
identifier ('salary')
: (':')
WHITE_SPACE (' ')
DECIMAL_FLOATING_POINT_NUMBER ('1000.50')
, (',')
WHITE_SPACE (' ')
identifier ('name')
: (':')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"jane"')
, (',')
WHITE_SPACE (' ')
identifier ('married')
: (':')
WHITE_SPACE (' ')
BOOLEAN_LITERAL ('true')
} ('}')
; (';')
WHITE_SPACE ('\n    ')
identifier ('Person')
WHITE_SPACE (' ')
identifier ('p2')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE ('\n    ')
{ ('{')
identifier ('id')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('2')
, (',')
WHITE_SPACE (' ')
identifier ('age')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('26')
, (',')
WHITE_SPACE (' ')
identifier ('salary')
: (':')
WHITE_SPACE (' ')
DECIMAL_FLOATING_POINT_NUMBER ('1050.50')
, (',')
WHITE_SPACE (' ')
identifier ('name')
: (':')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"kane"')
, (',')
WHITE_SPACE (' ')
identifier ('married')
: (':')
WHITE_SPACE (' ')
BOOLEAN_LITERAL ('false')
} ('}')
; (';')
WHITE_SPACE ('\n    ')
identifier ('Person')
WHITE_SPACE (' ')
identifier ('p3')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE ('\n    ')
{ ('{')
identifier ('id')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('3')
, (',')
WHITE_SPACE (' ')
identifier ('age')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('27')
, (',')
WHITE_SPACE (' ')
identifier ('salary')
: (':')
WHITE_SPACE (' ')
DECIMAL_FLOATING_POINT_NUMBER ('1200.50')
, (',')
WHITE_SPACE (' ')
identifier ('name')
: (':')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"jack"')
, (',')
WHITE_SPACE (' ')
identifier ('married')
: (':')
WHITE_SPACE (' ')
BOOLEAN_LITERAL ('true')
} ('}')
; (';')
WHITE_SPACE ('\n    ')
identifier ('Person')
WHITE_SPACE (' ')
identifier ('p4')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE ('\n    ')
{ ('{')
identifier ('id')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('4')
, (',')
WHITE_SPACE (' ')
identifier ('age')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('28')
, (',')
WHITE_SPACE (' ')
identifier ('salary')
: (':')
WHITE_SPACE (' ')
DECIMAL_FLOATING_POINT_NUMBER ('1100.50')
, (',')
WHITE_SPACE (' ')
identifier ('name')
: (':')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"alex"')
, (',')
WHITE_SPACE (' ')
identifier ('married')
: (':')
WHITE_SPACE (' ')
BOOLEAN_LITERAL ('false')
} ('}')
; (';')
WHITE_SPACE ('\n\n    ')
LINE_COMMENT ('// This is the in-memory `table`, which is constrained by the `Person` type.')
WHITE_SPACE ('\n    ')
table ('table')
< ('<')
identifier ('Person')
> ('>')
WHITE_SPACE (' ')
identifier ('personTable')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE (' ')
table ('table')
WHITE_SPACE (' ')
{ ('{')
WHITE_SPACE ('\n        ')
{ ('{')
identifier ('id')
, (',')
WHITE_SPACE (' ')
identifier ('age')
, (',')
WHITE_SPACE (' ')
identifier ('salary')
, (',')
WHITE_SPACE (' ')
identifier ('name')
, (',')
WHITE_SPACE (' ')
identifier ('married')
} ('}')
, (',')
WHITE_SPACE ('\n        ')
[ ('[')
identifier ('p1')
, (',')
WHITE_SPACE (' ')
identifier ('p2')
, (',')
WHITE_SPACE (' ')
identifier ('p3')
, (',')
WHITE_SPACE (' ')
identifier ('p4')
] (']')
WHITE_SPACE ('\n    ')
} ('}')
; (';')
WHITE_SPACE ('\n\n    ')
LINE_COMMENT ('// This prints the content of the `Person` table.')
WHITE_SPACE ('\n    ')
identifier ('printTable')
( ('(')
identifier ('queryStmt')
, (',')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"The personTable:  "')
, (',')
WHITE_SPACE (' ')
identifier ('personTable')
) (')')
; (';')
WHITE_SPACE ('\n\n    ')
LINE_COMMENT ('// These are a few sample values, which represent orders made by the ')
WHITE_SPACE ('\n    ')
LINE_COMMENT ('//  person records listed above.')
WHITE_SPACE ('\n    ')
identifier ('Order')
WHITE_SPACE (' ')
identifier ('o1')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE ('\n    ')
{ ('{')
identifier ('personId')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('1')
, (',')
WHITE_SPACE (' ')
identifier ('orderId')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('1234')
, (',')
WHITE_SPACE (' ')
identifier ('items')
: (':')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"pen, book, eraser"')
, (',')
WHITE_SPACE (' ')
identifier ('amount')
: (':')
WHITE_SPACE (' ')
DECIMAL_FLOATING_POINT_NUMBER ('34.75')
} ('}')
; (';')
WHITE_SPACE ('\n    ')
identifier ('Order')
WHITE_SPACE (' ')
identifier ('o2')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE ('\n    ')
{ ('{')
identifier ('personId')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('1')
, (',')
WHITE_SPACE (' ')
identifier ('orderId')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('2314')
, (',')
WHITE_SPACE (' ')
identifier ('items')
: (':')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"dhal, rice, carrot"')
, (',')
WHITE_SPACE (' ')
identifier ('amount')
: (':')
WHITE_SPACE (' ')
DECIMAL_FLOATING_POINT_NUMBER ('14.75')
} ('}')
; (';')
WHITE_SPACE ('\n    ')
identifier ('Order')
WHITE_SPACE (' ')
identifier ('o3')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE ('\n    ')
{ ('{')
identifier ('personId')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('2')
, (',')
WHITE_SPACE (' ')
identifier ('orderId')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('5643')
, (',')
WHITE_SPACE (' ')
identifier ('items')
: (':')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"Macbook Pro"')
, (',')
WHITE_SPACE (' ')
identifier ('amount')
: (':')
WHITE_SPACE (' ')
DECIMAL_FLOATING_POINT_NUMBER ('2334.75')
} ('}')
; (';')
WHITE_SPACE ('\n    ')
identifier ('Order')
WHITE_SPACE (' ')
identifier ('o4')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE ('\n    ')
{ ('{')
identifier ('personId')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('3')
, (',')
WHITE_SPACE (' ')
identifier ('orderId')
: (':')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('8765')
, (',')
WHITE_SPACE (' ')
identifier ('items')
: (':')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"Tshirt"')
, (',')
WHITE_SPACE (' ')
identifier ('amount')
: (':')
WHITE_SPACE (' ')
DECIMAL_FLOATING_POINT_NUMBER ('20.75')
} ('}')
; (';')
WHITE_SPACE ('\n\n    ')
LINE_COMMENT ('// This is the in-memory `table`, which is constrained by the `Order` type.')
WHITE_SPACE ('\n    ')
table ('table')
< ('<')
identifier ('Order')
> ('>')
WHITE_SPACE (' ')
identifier ('orderTable')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE (' ')
table ('table')
WHITE_SPACE (' ')
{ ('{')
WHITE_SPACE ('\n        ')
{ ('{')
identifier ('personId')
, (',')
WHITE_SPACE (' ')
identifier ('orderId')
, (',')
WHITE_SPACE (' ')
identifier ('items')
, (',')
WHITE_SPACE (' ')
identifier ('amount')
} ('}')
, (',')
WHITE_SPACE ('\n        ')
[ ('[')
identifier ('o1')
, (',')
WHITE_SPACE (' ')
identifier ('o2')
, (',')
WHITE_SPACE (' ')
identifier ('o3')
, (',')
WHITE_SPACE (' ')
identifier ('o4')
] (']')
WHITE_SPACE ('\n    ')
} ('}')
; (';')
WHITE_SPACE ('\n\n    ')
LINE_COMMENT ('// This prints the content of the `Order` table.')
WHITE_SPACE ('\n    ')
identifier ('printTable')
( ('(')
identifier ('queryStmt')
, (',')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"The orderTable: "')
, (',')
WHITE_SPACE (' ')
identifier ('orderTable')
) (')')
; (';')
WHITE_SPACE ('\n\n\n    ')
LINE_COMMENT ('// Querying a `table` always returns a new in-memory `table`.')
WHITE_SPACE ('\n    ')
LINE_COMMENT ('// Joins a `table` with another `table` using the `where` clause and returns the selected fields in a')
WHITE_SPACE ('\n    ')
LINE_COMMENT ('// `table` constrained by a different type.')
WHITE_SPACE ('\n    ')
table ('table')
< ('<')
identifier ('OrderDetails')
> ('>')
WHITE_SPACE (' ')
identifier ('orderDetailsWithFilter')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE ('\n                    ')
from ('from')
WHITE_SPACE (' ')
identifier ('personTable')
WHITE_SPACE ('\n                    ')
where ('where')
WHITE_SPACE (' ')
identifier ('name')
WHITE_SPACE (' ')
!= ('!=')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"jane"')
WHITE_SPACE (' ')
as ('as')
WHITE_SPACE (' ')
identifier ('tempPersonTable')
WHITE_SPACE ('\n                    ')
join ('join')
WHITE_SPACE (' ')
identifier ('orderTable')
WHITE_SPACE (' ')
where ('where')
WHITE_SPACE (' ')
identifier ('personId')
WHITE_SPACE (' ')
!= ('!=')
WHITE_SPACE (' ')
DECIMAL_INTEGER_LITERAL ('3')
WHITE_SPACE (' ')
as ('as')
WHITE_SPACE (' ')
identifier ('tempOrderTable')
WHITE_SPACE ('\n                            ')
on ('on')
WHITE_SPACE (' ')
identifier ('tempPersonTable')
. ('.')
identifier ('id')
WHITE_SPACE (' ')
== ('==')
WHITE_SPACE (' ')
identifier ('tempOrderTable')
. ('.')
identifier ('personId')
WHITE_SPACE ('\n                    ')
select ('select')
WHITE_SPACE (' ')
identifier ('tempOrderTable')
. ('.')
identifier ('orderId')
WHITE_SPACE (' ')
as ('as')
WHITE_SPACE (' ')
identifier ('orderId')
, (',')
WHITE_SPACE ('\n                            ')
identifier ('tempPersonTable')
. ('.')
identifier ('name')
WHITE_SPACE (' ')
as ('as')
WHITE_SPACE (' ')
identifier ('personName')
, (',')
WHITE_SPACE ('\n                            ')
identifier ('tempOrderTable')
. ('.')
identifier ('items')
WHITE_SPACE (' ')
as ('as')
WHITE_SPACE (' ')
identifier ('items')
, (',')
WHITE_SPACE ('\n                            ')
identifier ('tempOrderTable')
. ('.')
identifier ('amount')
WHITE_SPACE (' ')
as ('as')
WHITE_SPACE (' ')
identifier ('amount')
; (';')
WHITE_SPACE ('\n    ')
identifier ('queryStmt')
WHITE_SPACE (' ')
= ('=')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"\ntable<OrderDetails> orderDetailsWithFilter = "')
WHITE_SPACE (' ')
+ ('+')
WHITE_SPACE ('\n            ')
QUOTED_STRING_LITERAL ('"from personTable where name != 'jane' as tempPersonTable "')
WHITE_SPACE (' ')
+ ('+')
WHITE_SPACE ('\n             ')
QUOTED_STRING_LITERAL ('"join orderTable where personId != 3 as tempOrderTable "')
WHITE_SPACE (' ')
+ ('+')
WHITE_SPACE ('\n                    ')
QUOTED_STRING_LITERAL ('"on tempPersonTable.id == tempOrderTable.personId "')
WHITE_SPACE (' ')
+ ('+')
WHITE_SPACE ('\n             ')
QUOTED_STRING_LITERAL ('"select tempOrderTable.orderId as orderId, "')
WHITE_SPACE (' ')
+ ('+')
WHITE_SPACE ('\n                    ')
QUOTED_STRING_LITERAL ('"tempPersonTable.name as personName, "')
WHITE_SPACE (' ')
+ ('+')
WHITE_SPACE ('\n                    ')
QUOTED_STRING_LITERAL ('"tempOrderTable.items as items, "')
WHITE_SPACE (' ')
+ ('+')
WHITE_SPACE ('\n                    ')
QUOTED_STRING_LITERAL ('"tempOrderTable.amount as amount;"')
; (';')
WHITE_SPACE ('\n    ')
identifier ('printTable')
( ('(')
identifier ('queryStmt')
, (',')
WHITE_SPACE (' ')
QUOTED_STRING_LITERAL ('"orderDetailsWithFilter: "')
, (',')
WHITE_SPACE (' ')
identifier ('orderDetailsWithFilter')
) (')')
; (';')
WHITE_SPACE ('\n')
} ('}')
WHITE_SPACE ('\n\n')
function ('function')
WHITE_SPACE (' ')
identifier ('printTable')
( ('(')
string ('string')
WHITE_SPACE (' ')
identifier ('stmt')
, (',')
WHITE_SPACE (' ')
string ('string')
WHITE_SPACE (' ')
identifier ('tableName')
, (',')
WHITE_SPACE (' ')
table ('table')
< ('<')
anydata ('anydata')
> ('>')
WHITE_SPACE (' ')
identifier ('returnedTable')
) (')')
WHITE_SPACE (' ')
{ ('{')
WHITE_SPACE ('\n    ')
identifier ('io')
: (':')
identifier ('println')
( ('(')
identifier ('stmt')
) (')')
; (';')
WHITE_SPACE ('\n    ')
identifier ('io')
: (':')
identifier ('println')
( ('(')
identifier ('tableName')
) (')')
; (';')
WHITE_SPACE ('\n    ')
foreach ('foreach')
WHITE_SPACE (' ')
var ('var')
WHITE_SPACE (' ')
identifier ('row')
WHITE_SPACE (' ')
in ('in')
WHITE_SPACE (' ')
identifier ('returnedTable')
WHITE_SPACE (' ')
{ ('{')
WHITE_SPACE ('\n       ')
identifier ('io')
: (':')
identifier ('println')
( ('(')
identifier ('row')
) (')')
; (';')
WHITE_SPACE ('\n    ')
} ('}')
WHITE_SPACE ('\n')
} ('}')
